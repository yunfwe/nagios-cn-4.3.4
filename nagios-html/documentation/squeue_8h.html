<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nagios: squeue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>squeue.h File Reference</h1>
<p>Scheduling queue function declarations.  
<a href="#_details">More...</a></p>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="pqueue_8h_source.html">pqueue.h</a>&quot;</code><br/>

<p><a href="squeue_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac28bd57977dc5085282f046a2b44b845"></a><!-- doxytag: member="squeue.h::SQUEUE_FREE_DATA" ref="ac28bd57977dc5085282f046a2b44b845" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#ac28bd57977dc5085282f046a2b44b845">SQUEUE_FREE_DATA</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Options for <a class="el" href="squeue_8h.html#a8dfd33fdc99ab4a5008b90ba377ad1f5" title="Destroys a scheduling queue completely.">squeue_destroy()</a>'s flag parameter. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08d3dad0b19f729274daafd22f5803b5"></a><!-- doxytag: member="squeue.h::squeue_t" ref="a08d3dad0b19f729274daafd22f5803b5" args="" -->
typedef <a class="el" href="structpqueue__t.html">pqueue_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>squeue_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c7c907c2f2ba7ae441e7e2801f2a9a6"></a><!-- doxytag: member="squeue.h::squeue_event" ref="a3c7c907c2f2ba7ae441e7e2801f2a9a6" args="" -->
typedef struct squeue_event&nbsp;</td><td class="memItemRight" valign="bottom"><b>squeue_event</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct timeval *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a943d1b7cd0ed4ac2e9b2691ef7b6ff72">squeue_event_runtime</a> (squeue_event *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the scheduled runtime of this event.  <a href="#a943d1b7cd0ed4ac2e9b2691ef7b6ff72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#ac39f0c791fd125c677a18590d158e033">squeue_event_data</a> (squeue_event *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get data of an squeue_event struct.  <a href="#ac39f0c791fd125c677a18590d158e033"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a42409351d1a75662f0a3dd9ba1ee6622">squeue_create</a> (unsigned int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a scheduling queue optimized for handling events within the given timeframe.  <a href="#a42409351d1a75662f0a3dd9ba1ee6622"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a8dfd33fdc99ab4a5008b90ba377ad1f5">squeue_destroy</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, int flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys a scheduling queue completely.  <a href="#a8dfd33fdc99ab4a5008b90ba377ad1f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">squeue_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8">squeue_add_tv</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, struct timeval *tv, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enqueue an event with microsecond precision.  <a href="#ac87233f11bb78fdfc606559435597bb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">squeue_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a5cefe0f89f4550d27b3b7e72a49ff3f9">squeue_add</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, time_t when, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an event to the scheduling queue.  <a href="#a5cefe0f89f4550d27b3b7e72a49ff3f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">squeue_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a2a6b4f97bff4c22a00117e976c75dba0">squeue_add_usec</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, time_t when, time_t usec, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an event to the scheduling queue with millisecond precision See notes on <a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8" title="Enqueue an event with microsecond precision.">squeue_add_tv()</a> for details.  <a href="#a2a6b4f97bff4c22a00117e976c75dba0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">squeue_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a916fbcfd3d3eda39b4f643a5b2368eca">squeue_add_msec</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, time_t when, time_t msec, void *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an event to the scheduling queue with millisecond precision See notes on <a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8" title="Enqueue an event with microsecond precision.">squeue_add_tv()</a> for details.  <a href="#a916fbcfd3d3eda39b4f643a5b2368eca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a61a20563cf66ffcf704b4ce8e99a0f94">squeue_change_priority_tv</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, squeue_event *evt, struct timeval *tv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change an event's priority to a new time.  <a href="#a61a20563cf66ffcf704b4ce8e99a0f94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#afa73c23393d49cf0f9e38a286af44176">squeue_peek</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the data of the next scheduled event from the scheduling queue without removing it from the queue.  <a href="#afa73c23393d49cf0f9e38a286af44176"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#aba66f0428786d416b3cc609ff4ef90a0">squeue_pop</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pops the next scheduled event from the scheduling queue and returns the data for it.  <a href="#aba66f0428786d416b3cc609ff4ef90a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a2500eec0813f5cdd854e472509ec86d3">squeue_remove</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q, squeue_event *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the given event from the scheduling queue.  <a href="#a2500eec0813f5cdd854e472509ec86d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#aba306724eece998c56f5b22c1c628ef4">squeue_size</a> (<a class="el" href="structpqueue__t.html">squeue_t</a> *q)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of events in the scheduling queue.  <a href="#aba306724eece998c56f5b22c1c628ef4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="squeue_8h.html#a7da35a0b70389e01ef10e34500321fc6">squeue_evt_when_is_after</a> (squeue_event *evt, struct timeval *reftime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if passed timeval is after the time for the event.  <a href="#a7da35a0b70389e01ef10e34500321fc6"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Scheduling queue function declarations. </p>
<p>This library is based on the pqueue api, which implements a priority queue based on a binary heap, providing O(lg n) times for insert() and remove(), and O(1) time for peek(). </p>
<dl class="note"><dt><b>Note:</b></dt><dd>There is no "find". Callers must maintain pointers to their scheduled events if they wish to be able to remove them. </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5cefe0f89f4550d27b3b7e72a49ff3f9"></a><!-- doxytag: member="squeue.h::squeue_add" ref="a5cefe0f89f4550d27b3b7e72a49ff3f9" args="(squeue_t *q, time_t when, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">squeue_event* squeue_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds an event to the scheduling queue. </p>
<p>See notes for <a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8" title="Enqueue an event with microsecond precision.">squeue_add_tv()</a> for details</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to add to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td>The unix timestamp when this event is to occur </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to any kind of data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The complete scheduled event </dd></dl>

</div>
</div>
<a class="anchor" id="a916fbcfd3d3eda39b4f643a5b2368eca"></a><!-- doxytag: member="squeue.h::squeue_add_msec" ref="a916fbcfd3d3eda39b4f643a5b2368eca" args="(squeue_t *q, time_t when, time_t msec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">squeue_event* squeue_add_msec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>msec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds an event to the scheduling queue with millisecond precision See notes on <a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8" title="Enqueue an event with microsecond precision.">squeue_add_tv()</a> for details. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to add to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>when</em>&nbsp;</td><td>Unix timestamp when this event should occur </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>msec</em>&nbsp;</td><td>Millisecond of above this event should occur </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to any kind of data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL on errors. squeue_event pointer on success </dd></dl>

</div>
</div>
<a class="anchor" id="ac87233f11bb78fdfc606559435597bb8"></a><!-- doxytag: member="squeue.h::squeue_add_tv" ref="ac87233f11bb78fdfc606559435597bb8" args="(squeue_t *q, struct timeval *tv, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">squeue_event* squeue_add_tv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&nbsp;</td>
          <td class="paramname"> <em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enqueue an event with microsecond precision. </p>
<p>It's up to the caller to keep the event pointer in case he/she wants to remove the event from the queue later.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to add to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tv</em>&nbsp;</td><td>When this event should occur </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to any kind of data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The complete scheduled event </dd></dl>

</div>
</div>
<a class="anchor" id="a2a6b4f97bff4c22a00117e976c75dba0"></a><!-- doxytag: member="squeue.h::squeue_add_usec" ref="a2a6b4f97bff4c22a00117e976c75dba0" args="(squeue_t *q, time_t when, time_t usec, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">squeue_event* squeue_add_usec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>usec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds an event to the scheduling queue with millisecond precision See notes on <a class="el" href="squeue_8h.html#ac87233f11bb78fdfc606559435597bb8" title="Enqueue an event with microsecond precision.">squeue_add_tv()</a> for details. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to add to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>when</em>&nbsp;</td><td>Unix timestamp when this event should occur </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>usec</em>&nbsp;</td><td>Millisecond of above this event should occur </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to any kind of data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL on errors. squeue_event pointer on success </dd></dl>

</div>
</div>
<a class="anchor" id="a61a20563cf66ffcf704b4ce8e99a0f94"></a><!-- doxytag: member="squeue.h::squeue_change_priority_tv" ref="a61a20563cf66ffcf704b4ce8e99a0f94" args="(squeue_t *q, squeue_event *evt, struct timeval *tv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squeue_change_priority_tv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">squeue_event *&nbsp;</td>
          <td class="paramname"> <em>evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&nbsp;</td>
          <td class="paramname"> <em>tv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change an event's priority to a new time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue holding the event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>The event to reschedule. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tv</em>&nbsp;</td><td>When the event should be rescheduled to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a42409351d1a75662f0a3dd9ba1ee6622"></a><!-- doxytag: member="squeue.h::squeue_create" ref="a42409351d1a75662f0a3dd9ba1ee6622" args="(unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqueue__t.html">squeue_t</a>* squeue_create </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a scheduling queue optimized for handling events within the given timeframe. </p>
<p>Callers should take care to create a queue of a decent but not overly large size, as too small or too large a queue will impact performance negatively. A queue can hold any number of events. A good value for "horizon" would be the max seconds into the future one expects to schedule things, although with few scheduled items in that timeframe you'd be better off using a more narrow horizon.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Hint about how large this queue will get </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a scheduling queue </dd></dl>

</div>
</div>
<a class="anchor" id="a8dfd33fdc99ab4a5008b90ba377ad1f5"></a><!-- doxytag: member="squeue.h::squeue_destroy" ref="a8dfd33fdc99ab4a5008b90ba377ad1f5" args="(squeue_t *q, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void squeue_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys a scheduling queue completely. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>q</em>&nbsp;</td><td>The doomed queue </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags determining the the level of destruction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac39f0c791fd125c677a18590d158e033"></a><!-- doxytag: member="squeue.h::squeue_event_data" ref="ac39f0c791fd125c677a18590d158e033" args="(squeue_event *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* squeue_event_data </td>
          <td>(</td>
          <td class="paramtype">squeue_event *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get data of an squeue_event struct. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>evt</em>&nbsp;</td><td>The event to operate on </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The data object pointed to by the event </dd></dl>

</div>
</div>
<a class="anchor" id="a943d1b7cd0ed4ac2e9b2691ef7b6ff72"></a><!-- doxytag: member="squeue.h::squeue_event_runtime" ref="a943d1b7cd0ed4ac2e9b2691ef7b6ff72" args="(squeue_event *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct timeval* squeue_event_runtime </td>
          <td>(</td>
          <td class="paramtype">squeue_event *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the scheduled runtime of this event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>evt</em>&nbsp;</td><td>The event to get runtime of </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>struct timeval on success, NULL on errors </dd></dl>

</div>
</div>
<a class="anchor" id="a7da35a0b70389e01ef10e34500321fc6"></a><!-- doxytag: member="squeue.h::squeue_evt_when_is_after" ref="a7da35a0b70389e01ef10e34500321fc6" args="(squeue_event *evt, struct timeval *reftime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int squeue_evt_when_is_after </td>
          <td>(</td>
          <td class="paramtype">squeue_event *&nbsp;</td>
          <td class="paramname"> <em>evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&nbsp;</td>
          <td class="paramname"> <em>reftime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if passed timeval is after the time for the event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>evt</em>&nbsp;</td><td>The queue event to inspect </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reftime</em>&nbsp;</td><td>The reference time to compare to the queue event time </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if reftime &gt; event time, 0 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="afa73c23393d49cf0f9e38a286af44176"></a><!-- doxytag: member="squeue.h::squeue_peek" ref="afa73c23393d49cf0f9e38a286af44176" args="(squeue_t *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* squeue_peek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the data of the next scheduled event from the scheduling queue without removing it from the queue. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to peek into </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aba66f0428786d416b3cc609ff4ef90a0"></a><!-- doxytag: member="squeue.h::squeue_pop" ref="aba66f0428786d416b3cc609ff4ef90a0" args="(squeue_t *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* squeue_pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pops the next scheduled event from the scheduling queue and returns the data for it. </p>
<p>This is equivalent to <a class="el" href="squeue_8h.html#afa73c23393d49cf0f9e38a286af44176" title="Returns the data of the next scheduled event from the scheduling queue without removing...">squeue_peek()</a> + <a class="el" href="squeue_8h.html#aba66f0428786d416b3cc609ff4ef90a0" title="Pops the next scheduled event from the scheduling queue and returns the data for...">squeue_pop()</a> </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This causes the squeue_event to be free()'d.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to pop from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2500eec0813f5cdd854e472509ec86d3"></a><!-- doxytag: member="squeue.h::squeue_remove" ref="a2500eec0813f5cdd854e472509ec86d3" args="(squeue_t *q, squeue_event *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int squeue_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">squeue_event *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the given event from the scheduling queue. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This causes the associated squeue_event() to be free()'d. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to remove from </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>evt</em>&nbsp;</td><td>The event to remove </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aba306724eece998c56f5b22c1c628ef4"></a><!-- doxytag: member="squeue.h::squeue_size" ref="aba306724eece998c56f5b22c1c628ef4" args="(squeue_t *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int squeue_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpqueue__t.html">squeue_t</a> *&nbsp;</td>
          <td class="paramname"> <em>q</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of events in the scheduling queue. </p>
<p>This function never fails.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>q</em>&nbsp;</td><td>The scheduling queue to inspect </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of events in the inspected queue </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 9 Sep 2017 for Nagios by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
